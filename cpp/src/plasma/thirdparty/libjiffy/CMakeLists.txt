include_directories(${CMAKE_CURRENT_SOURCE_DIR}/src)

add_library(jiffy_client STATIC
        src/jiffy/client/jiffy_client.cc
        src/jiffy/client/jiffy_client.h
        src/jiffy/directory/client/directory_client.cpp
        src/jiffy/directory/client/directory_client.h
        src/jiffy/directory/fs/directory_service.cpp
        src/jiffy/directory/fs/directory_service.h
        src/jiffy/directory/fs/directory_service.tcc
        src/jiffy/directory/fs/directory_service_constants.cpp
        src/jiffy/directory/fs/directory_service_constants.h
        src/jiffy/directory/fs/directory_service_types.cpp
        src/jiffy/directory/fs/directory_service_types.h
        src/jiffy/directory/fs/directory_service_types.tcc
        src/jiffy/directory/fs/directory_type_conversions.h
        src/jiffy/directory/client/lease_client.cpp
        src/jiffy/directory/client/lease_client.h
        src/jiffy/directory/client/lease_renewal_worker.cc
        src/jiffy/directory/client/lease_renewal_worker.h
        src/jiffy/directory/lease/lease_service.cpp
        src/jiffy/directory/lease/lease_service.h
        src/jiffy/directory/lease/lease_service.tcc
        src/jiffy/directory/lease/lease_service_constants.cpp
        src/jiffy/directory/lease/lease_service_constants.h
        src/jiffy/directory/lease/lease_service_types.cpp
        src/jiffy/directory/lease/lease_service_types.h
        src/jiffy/directory/lease/lease_service_types.tcc
        src/jiffy/directory/directory_ops.h
        src/jiffy/directory/directory_ops.cpp
        src/jiffy/storage/command.h
        src/jiffy/storage/command.cpp
        src/jiffy/storage/hashtable/hash_slot.h
        src/jiffy/storage/hashtable/hash_slot.cpp
        src/jiffy/storage/hashtable/hash_table_ops.h
        src/jiffy/storage/hashtable/hash_table_ops.cpp
        src/jiffy/storage/client/replica_chain_client.cpp
        src/jiffy/storage/client/replica_chain_client.h
        src/jiffy/storage/service/block_response_client.cpp
        src/jiffy/storage/service/block_response_client.h
        src/jiffy/storage/client/block_client.cpp
        src/jiffy/storage/client/block_client.h
        src/jiffy/storage/client/block_listener.cpp
        src/jiffy/storage/client/block_listener.h
        src/jiffy/storage/client/hash_table_client.cpp
        src/jiffy/storage/client/hash_table_client.h
        src/jiffy/storage/client/hash_table_listener.cpp
        src/jiffy/storage/client/hash_table_listener.h
        src/jiffy/storage/service/block_request_service.cpp
        src/jiffy/storage/service/block_request_service.h
        src/jiffy/storage/service/block_request_service.tcc
        src/jiffy/storage/service/block_response_service.cpp
        src/jiffy/storage/service/block_response_service.h
        src/jiffy/storage/service/block_response_service.tcc
        src/jiffy/storage/service/block_service_constants.cpp
        src/jiffy/storage/service/block_service_constants.h
        src/jiffy/storage/service/block_service_types.cpp
        src/jiffy/storage/service/block_service_types.h
        src/jiffy/storage/service/block_service_types.tcc
        src/jiffy/storage/manager/detail/block_id_parser.cpp
        src/jiffy/storage/manager/detail/block_id_parser.h
        src/jiffy/storage/notification/blocking_queue.h
        src/jiffy/storage/notification/notification_handler.cpp
        src/jiffy/storage/notification/notification_handler.h
        src/jiffy/storage/notification/notification_service.cpp
        src/jiffy/storage/notification/notification_service.h
        src/jiffy/storage/notification/notification_service.tcc
        src/jiffy/storage/notification/notification_service_constants.cpp
        src/jiffy/storage/notification/notification_service_constants.h
        src/jiffy/storage/notification/notification_service_types.cpp
        src/jiffy/storage/notification/notification_service_types.h
        src/jiffy/storage/notification/notification_service_types.tcc
        src/jiffy/storage/notification/notification_worker.cpp
        src/jiffy/storage/notification/notification_worker.h
        src/jiffy/storage/notification/subscription_service.cpp
        src/jiffy/storage/notification/subscription_service.h
        src/jiffy/storage/notification/subscription_service.tcc
        src/jiffy/storage/notification/subscription_service_constants.cpp
        src/jiffy/storage/notification/subscription_service_constants.h
        src/jiffy/storage/notification/subscription_service_types.cpp
        src/jiffy/storage/notification/subscription_service_types.h
        src/jiffy/storage/notification/subscription_service_types.tcc
        src/jiffy/utils/client_cache.h
        src/jiffy/utils/cmd_parse.h
        src/jiffy/utils/directory_utils.h
        src/jiffy/utils/event.h
        src/jiffy/utils/logger.h
        src/jiffy/utils/logger.cpp
        src/jiffy/utils/rand_utils.h
        src/jiffy/utils/signal_handling.h
        src/jiffy/utils/time_utils.h
        src/jiffy/utils/retry_utils.h
        src/jiffy/utils/string_utils.h
        src/jiffy/utils/property_map.cpp
        src/jiffy/utils/property_map.h)

target_link_libraries(jiffy_client thriftstatic ${CMAKE_DL_LIBS} ${CMAKE_THREAD_LIBS_INIT})